<% layout("/layouts/boilerplate") %>

<style>
    #filters {
    display: flex;
    flex-wrap: wrap;
    margin-top: -20px;
    align-items: center;
    justify-content: center;
}

.filter {
    text-align: center;
    margin-right: 2rem;
    margin-top: 2rem;
   
    transition: transform 0.3s ease, top 1s ease, opacity 0.3s ease, color 0.1s ease;

    position: relative; 
    height: 67px; 
    
}

.filter p {
    font-size: 0.8rem;
}

.filter:hover {
    cursor: pointer;
    opacity: 1;
     /* Move it upwards by 10px */
    transform: scale(1.35); /* Scale the card */
    color: red;
}

.tax-info{
    display: none;
}

.tax-toggle{
    border: 2px solid black;
    border-radius: 1rem;
    height: 3rem;
    padding: 1rem;
    
    display: flex;
    align-items: center;
    justify-self: center;
}
/* .toggle{
    align-items: center;
    justify-content: center;
} */
</style>
<body>

    <div id="filters">
        <div class="filter">
            <div><i class="fa-solid fa-fire"></i></div>
            <p>Trending</p>
        </div>

        <div class="filter">
            <div> <i class="fa-solid fa-house"></i> </div>
            <p>Rooms</p>
        </div>

        <div class="filter">
            <div> <i class="fa-solid fa-mountain-city"></i> </div>
            <p>Iconic Cities</p>
        </div>


        <div class="filter">
            <div> <i class="fa-solid fa-landmark-dome"></i> </div>
            <p>Dome</p>
        </div> 


        <div class="filter">
            <div> <i class="fa-solid fa-campground"></i></div>
            <p>Treaking</p>
        </div>


        <div class="filter">
            <div> <i class="fa-solid fa-tractor"></i> </div>
            <p>Village</p>
        </div>




        <div class="filter">
            <div> <i class="fa-solid fa-snowflake"></i> </div>
            <p>Arctic</p>
        </div>

        <div class="filter">
            <div> <i class="fa-solid fa-hotel"></i> </div>
            <p>Hotels</p>
        </div>


        <div class="filter">
            <div> <i class="fa-solid fa-house-circle-exclamation"></i> </div>
            <p>Villa</p>
        </div>



        <div class="filter">
            <div><i class="fa-brands fa-phoenix-framework"></i> </div>
            <p>Farm-House</p>
        </div>

        <div class="filter">
            <div> <i class="fa-solid fa-ship"></i> </div>
            <p>Boats</p>
        </div>

        <br>
        

        <div class="tax-toggle"  >
            <div class="form-check form-switch toggle form-check-reverse">
                <input class="form-check-input" type="checkbox" id="flexSwitchCheckReverse">
                <label class="form-check-label " for="flexSwitchCheckReverse">Display total  after taxes</label>
              </div>
        </div>

    </div>




    <div class="row  row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">
        
        <% for (let listing of allListings) { %>
          
         
            <a href="/listings/<%= listing._id %>" class="listing-link">
                <div class="listing-card card col">
                    <% if (listing.image && listing.image.url) { %>
                        <img src="<%= listing.image.url %>" class="card-img-top" alt="Listing img" style="height: 20rem;">
                    <% } else { %>
                        <img src="default-image-url.jpg" class="card-img-top" alt="Default image" style="height: 20rem;">
                    <% } %>
                
                    <div class="card-body">
                        <p class="card-text">
                            <br>
                            <b><%= listing.title %></b>
                            <br/>
                            &#8377; 
                            <% if (listing.price != null) { %>
                                <%= listing.price.toLocaleString("en-IN") %> / night 
                                <i class="tax-info"> &nbsp; &nbsp; +18% GSt</i>
                            <% } else { %>
                                Price not available
                            <% } %>
                        </p>
                    </div>
                </div>
            </a>
        <% } %>
    </div>
</body>



<script>
    let taxSwitch = document.getElementById("flexSwitchCheckReverse");
    // let taxDetails = document.getElementById("tax-info");

    taxSwitch.addEventListener("click", () => {
       let taxInfo = document.getElementsByClassName("tax-info");
       for(info of taxInfo)
       {
        if(info.style.display != "inline"){
        info.style.display = "inline";
       }
       else{
        info.style.display = "none";
       }

    }
    });
</script>
